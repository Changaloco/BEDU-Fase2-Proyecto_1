/*! For license information please see f765212caa9a0a04c8a1.js.LICENSE.txt */
import{buildRecipeCard,createCardIngredient}from"./components/components.js";import"../scss/main.scss";var recipesTitle=document.getElementById("titleRecipesContainer");function getMealRandom(){return fetch("https://themealdb.com/api/json/v1/1/random.php").then((function(e){return e.json()}))}function getMealMatch(e){if(""!==e)return fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=".concat(e)).then((function(e){return e.json()}))}function getMealDetails(e){return fetch("https://www.themealdb.com/api/json/v1/1/lookup.php?i="+e).then((function(e){return e.json()}))}function openModal(){document.getElementById("backdrop").style.display="block",document.getElementById("mealModal").style.display="block",document.getElementById("mealModal").classList.add("show")}function closeModal(){document.getElementById("backdrop").style.display="none",document.getElementById("mealModal").style.display="none",document.getElementById("mealModal").classList.remove("show")}function cleanRecipes(){document.getElementById("recipeContainer").innerHTML=""}document.querySelector("#randomBtn").addEventListener("click",(function(e){cleanRecipes(),getMealRandom().then((function(e){recipesTitle.innerHTML="Recetas";var t=buildRecipeCard(e.meals[0]);document.getElementById("recipeContainer").append(t)})),e.preventDefault()})),document.querySelector("#searchBtn").addEventListener("click",(function(e){cleanRecipes();var t=document.getElementById("searchInput").value;null!=t&&0!=t&&getMealMatch(t).then((function(e){e.meals?(recipesTitle.innerHTML=Object.keys(e.meals).length+" Recetas para la busqueda: "+t,e.meals.forEach((function(e){var t=buildRecipeCard(e);document.getElementById("recipeContainer").append(t)}))):recipesTitle.innerHTML="Recetas no encontradas."})),e.preventDefault()})),document.addEventListener("click",(function(e){e.target.classList.contains("btnMealDetails")&&(getMealDetails(e.target.getAttribute("idMeal")).then((function(e){e=e.meals[0],console.log(e),document.getElementById("text-instrucciones").innerHTML=e.strInstructions,document.getElementById("modal-title").innerHTML=e.strMeal,document.getElementById("imgMeal").src=e.strMealThumb,document.getElementById("mealVideo").href=e.strYoutube,document.getElementById("ingredientList").innerHTML="";for(var t=1;t<20;t++){var n="strMeasure"+t,c=e["strIngredient"+t];if(null==c||""==c)break;var a=e[n],o=createCardIngredient(c,a);document.getElementById("ingredientList").append(o)}})),openModal())})),document.querySelectorAll(".btn-close-modal").forEach((function(e){e.addEventListener("click",(function(e){closeModal()}))}));